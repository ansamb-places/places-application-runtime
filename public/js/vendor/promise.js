// Generated by CoffeeScript 1.6.3
window.Promise = (function() {
  function Promise(context) {
    this.context = context || this;
    this.callbacks = [];
    this.resolved = void 0;
  }

  Promise.prototype.then = function(callback) {
    if (this.resolved !== void 0) {
      return callback.apply(this.context, this.resolved);
    } else {
      return this.callbacks.push(callback);
    }
  };

  Promise.prototype.resolve = function() {
    var _this = this;
    if (this.resolved) {
      return;
    }
    this.resolved = arguments;
    return _.each(this.callbacks, function(callback) {
      return callback.apply(_this.context, _this.resolved);
    });
  };

  return Promise;

})();
